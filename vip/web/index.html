<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>后台</title>
</head>
<body>

<link href="css/common.css" rel="stylesheet"/>
<link href="css/select2.css" rel="stylesheet"/>
<link href="css/myself.css" rel="stylesheet"/>
<div class="sign">
    <text class="zhuce">注册</text>
    <div>
        <input class="phone" placeholder="手机号码" type="text" name="" value="">
    </div>
    <div class="sign-sms">
        <input class="phone-sms" placeholder="输入短信中的验证码" type="text" name="" value="">
        <button type="button" name="button">发送验证码</button>
    </div>
    <div class="sign-address">
        <select id="loc_province"></select>
        <select id="loc_city"></select>
        <select id="loc_town"></select>
    </div>
    <div class="sign-sex">
        <btn>男</btn>
        <span></span>
        <btn>女</btn>
    </div>
    <text class="sign-sure">
        一旦注册，即表示你同意生命之花的
        <a target="_blank" href="">隐私政策</a>
        和
        <a target="_blank" href="">使用条款</a>
    </text>
    <div>
        <button class="btn-login" type="button" name="button">注册</button>
    </div>
    <div class="sign-up">
        <text>已经是会员？</text>
        <a href="/sign-up">立即登陆！</a>
    </div>
</div>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/area.js"></script>
<script type="text/javascript" src="js/location.js"></script>
<script type="text/javascript" src="js/select2.js"></script>
<script type="text/javascript" src="js/select2_locale_zh-CN.js"></script>

<script>
$('.btn-login').on('click', function() {
    let d = {
        '省份': true,
        '地级市': true,
        '市、县、区': true,
    }
    let province = $('#loc_province').select2('data').text
    let city = $('#loc_city').select2('data').text
    let town = $('#loc_town').select2('data').text
    if (d[province] || d[city] || d[town]) {
        console.log('地址错误')
    }
})
</script>

<script>
    // let Ajax = function(request) {
    //     let req = {
    //          url: request.url,
    //          // data 传对象
    //          data: JSON.stringify(request.data) || null,
    //          method: (request.method || 'POST').toUpperCase(),
    //          header: request.header || {},
    //          contentType: request.contentType || 'application/json',
    //          callback: request.callback,
    //      }
    //      let r = new XMLHttpRequest()
    //      let promise = new Promise(function(success, fail) {
    //          r.open(req.method, req.url, true)
    //          r.setRequestHeader('Content-Type', req.contentType)
    //          for (let key in req.header) {
    //              r.setRequestHeader(key, req.header[key])
    //          }
    //          r.onreadystatechange = function() {
    //              if (r.readyState === 4) {
    //                  let res = r.response
    //                  // 回调函数
    //                  if (typeof req.callback === 'function') {
    //                      req.callback(res)
    //                  }
    //                  // Promise 成功
    //                  success(res)
    //              }
    //          }
    //          r.onerror = function (err) {
    //              fail(err)
    //          }
    //          if (req.method === 'GET') {
    //              r.send()
    //          } else {
    //              // POST
    //              r.send(req.data)
    //          }
    //      })
    //      return promise
    // }
    // // 读取
    // Ajax({
    //     url: 'http://120.78.146.47:8001/load'
    // }).then(res => {
    //     console.log(res)
    // })
    // // 写入
    // Ajax({
    //     url: 'http://120.78.146.47:8001/save',
    //     data: {
    //         a:1,
    //         b:2,
    //     }
    // }).then(res => {
    //     console.log(res)
    // })
</script>
</body>
</html>
